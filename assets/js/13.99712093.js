(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{171:function(s,t,a){"use strict";a.r(t);var e=a(0),n=Object(e.a)({},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"node-js"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#node-js","aria-hidden":"true"}},[s._v("#")]),s._v(" Node.js "),a("a",{attrs:{href:"https://github.com/suyanhanx"}},[a("Badge",{attrs:{text:"@suyanhanx"}})],1),a("a",{attrs:{href:"https://github.com/spencerwooo/dowww/pull/11"}},[a("Badge",{attrs:{text:"PR #11",type:"warn"}})],1)]),s._v(" "),s._m(0),s._v(" "),s._m(1),s._v(" "),s._m(2),s._v(" "),s._m(3),s._v(" "),s._m(4),s._m(5),s._v(" "),s._m(6),s._m(7),s._v(" "),s._m(8),s._v(" "),s._m(9),s._m(10),s._v(" "),s._m(11),s._v(" "),s._m(12),s._m(13),s._v(" "),s._m(14),s._m(15),s._v(" "),s._m(16),s._v(" "),s._m(17),s._v(" "),s._m(18),s._m(19),s._v(" "),s._m(20),s._v(" "),s._m(21),s._v(" "),s._m(22),s._v(" "),s._m(23),s._m(24),s._v(" "),s._m(25),s._v(" "),s._m(26),s._v(" "),a("p",[s._v("大部分模块即使在 Windows 中被安装也能在 WSL 中使用，反之亦然。\n但有些模块是分不同系统平台的。切换系统需要重新编译。可以在项目根目录下载 Windows 命令行里执行以下命令：")]),s._v(" "),s._m(27),s._m(28),s._v(" "),a("p",[s._v("👌 到此就已经全部结束了，在 VSCode 里安装需要使用的插件吧！")])])},[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[s._v("⏰ 一些概念：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("Node.js")]),s._v(" - a JavaScript runtime built on Chrome's V8 JavaScript engine：一个 JavaScript 运行环境")]),s._v(" "),a("li",[a("code",[s._v("nvm")]),s._v(" Node Version Manager - Simple bash script to manage multiple active node.js versions：是 "),a("code",[s._v("Node.js")]),s._v(" 的版本管理工具")]),s._v(" "),a("li",[a("code",[s._v("npm")]),s._v("、"),a("code",[s._v("yarn")]),s._v(" 分别是不同的 "),a("code",[s._v("Node.js")]),s._v(" 包管理工具，推荐使用 "),a("code",[s._v("yarn")])])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"安装-node-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#安装-node-js","aria-hidden":"true"}},[this._v("#")]),this._v(" 安装 Node.js")])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("强烈建议使用 "),t("code",[this._v("nvm")]),this._v(" 来管理与安装 "),t("code",[this._v("Node.js")]),this._v("，便于切换版本和快捷安装。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("ul",[t("li",[this._v("安装 "),t("code",[this._v("nvm")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("curl")]),this._v(" -o- https://raw.githubusercontent.com/creationix/nvm/v0.33.11/install.sh "),t("span",{pre:!0,attrs:{class:"token operator"}},[this._v("|")]),this._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[this._v("bash")]),this._v("\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("ul",[t("li",[this._v("一般来说上一步的脚本会添加以下内容（"),t("code",[this._v("nvm")]),this._v(" 的环境变量）到命令行的用户配置文件 profile 里，可以通过 "),t("code",[this._v("source ~/.zshrc")]),this._v(" 等类似的方法重新加载用户配置使之生效。")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("export")]),s._v(" NVM_DIR"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$HOME")]),s._v('/.nvm"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v(" -s "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NVM_DIR")]),s._v('/nvm.sh"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v(".")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"'),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$NVM_DIR")]),s._v('/nvm.sh"')]),s._v("\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("如果重新加载配置后还是没有 "),t("code",[this._v("nvm")]),this._v(" 的相关命令，也可以自行添加上面的内容到 profile 中再加载配置文件。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("ul",[t("li",[this._v("安装 "),t("code",[this._v("Node.js")]),this._v(" 和 "),t("code",[this._v("npm")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# 安装当前的稳定版")]),this._v("\nnvm "),t("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" stable\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[this._v("# 等待安装完毕后，激活该版本")]),this._v("\nnvm use stable\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[t("strong",[this._v("Tips")]),this._v(":")])},function(){var s=this.$createElement,t=this._self._c||s;return t("ul",[t("li",[this._v("如果出现 "),t("code",[this._v("sudo npm")]),this._v(" 找不到命令问题，这里可以做一下软链接：")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" node"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" /usr/bin/node\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ln")]),s._v(" -s "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("which")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" /usr/bin/npm\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("ul",[t("li",[this._v("更换 "),t("code",[this._v("nvm")]),this._v(" 镜像（如更换为淘宝镜像源），在终端用户配置文件（如："),t("code",[this._v("~/.zshrc")]),this._v("）中加入下面内容：")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("export")]),this._v(" NVM_NODEJS_ORG_MIRROR"),t("span",{pre:!0,attrs:{class:"token operator"}},[this._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[this._v('"https://npm.taobao.org/mirrors/node"')]),this._v("\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"配置-node-js-的包管理工具"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#配置-node-js-的包管理工具","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置 Node.js 的包管理工具")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ul",[a("li",[a("p",[s._v("加速在中国大陆地区 "),a("code",[s._v("npm")]),s._v(" 的下载速度：")]),s._v(" "),a("ul",[a("li",[s._v("考虑将 "),a("code",[s._v("npm")]),s._v(" 更换源至淘宝镜像（推荐）：")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" registry https://registry.npm.taobao.org\n")])])]),a("ul",[a("li",[s._v("或直接安装 "),a("code",[s._v("cnpm")]),s._v("，一个阿里官方的 Node.js 包管理工具，默认源为淘宝镜像源：")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -g cnpm --registry"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("https://registry.npm.taobao.org\n")])])])]),s._v(" "),a("li",[a("p",[s._v("给 "),a("code",[s._v("npm")]),s._v(" 下的模块命令添加权限：")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("重要")]),this._v(" "),t("p",[this._v("没有权限会很容易在安装某些需要编译的模块发生失败。")])])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" -R "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("whoami")]),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" config get prefix"),a("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v("/"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("lib/node_modules,bin,share"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("上面是单独的 "),t("code",[this._v("npm")]),this._v(" 目录权限修改，避免 "),t("code",[this._v("sudo")]),this._v(" 找不到命令而直接运行安装又权限不够的问题。")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ul",[a("li",[a("p",[s._v("推荐安装 "),a("code",[s._v("yarn")]),s._v("，一个更加现代、科学的 "),a("code",[s._v("Node.js")]),s._v(" 包管理工具：")]),s._v(" "),a("ul",[a("li",[s._v("配置 "),a("code",[s._v("yarn")]),s._v(" 下载仓库：")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -sS https://dl.yarnpkg.com/debian/pubkey.gpg "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" apt-key add -\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("echo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"deb https://dl.yarnpkg.com/debian/ stable main"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tee")]),s._v(" /etc/apt/sources.list.d/yarn.list\n")])])]),a("ul",[a("li",[s._v("安装 "),a("code",[s._v("yarn")]),s._v("：")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" yarn\n")])])]),a("ul",[a("li",[s._v("考虑更换 "),a("code",[s._v("yarn")]),s._v(" 下载源至淘宝镜像：")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[s._v("yarn "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" registry https://registry.npm.taobao.org\n")])])]),a("ul",[a("li",[s._v("解决 "),a("code",[s._v("yarn")]),s._v(" 进度条显示错误的问题，在命令行 profile 文件中输出环境变量：")])]),s._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$LANG")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("en.us-utf8\n")])])])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"在-vscode-里调试-node-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在-vscode-里调试-node-js","aria-hidden":"true"}},[this._v("#")]),this._v(" 在 VSCode 里调试 "),t("code",[this._v("Node.js")])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("只需要简单在 VSCode 的调试配置 "),t("code",[this._v("launch.json")]),this._v(" 中添加下面一行属性：")])},function(){var s=this.$createElement,t=this._self._c||s;return t("div",{staticClass:"language-json extra-class"},[t("pre",{pre:!0,attrs:{class:"language-json"}},[t("code",[t("span",{pre:!0,attrs:{class:"token property"}},[this._v('"useWSL"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[this._v(":")]),this._v(" "),t("span",{pre:!0,attrs:{class:"token boolean"}},[this._v("true")]),this._v("\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("这样 VSCode 就会使用 WSL 来运行 "),t("code",[this._v("Node.js")]),this._v(" 。")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("p",[a("strong",[s._v("注意")]),s._v("：当 Windows 版本早于 "),a("code",[s._v("Windows 10, build 15063")]),s._v(" 时，可能会遇到 "),a("code",[s._v("Error 0x80070057")]),s._v(" 报错，这个时候可以尝试添加 "),a("code",[s._v('"console": "integratedTerminal"')]),s._v(" 或者 "),a("code",[s._v('"console": "externalTerminal"')]),s._v(" 到 "),a("code",[s._v("launch.json")]),s._v(" 里。")])},function(){var s=this.$createElement,t=this._self._c||s;return t("h2",{attrs:{id:"nativemodule-的再编译"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nativemodule-的再编译","aria-hidden":"true"}},[this._v("#")]),this._v(" "),t("code",[this._v("NativeModule")]),this._v(" 的再编译")])},function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v(" -i -c "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"npm rebuild"')]),s._v("\n")])])])},function(){var s=this.$createElement,t=this._self._c||s;return t("p",[this._v("当然直接 WSL 里执行 "),t("code",[this._v("npm rebuild")]),this._v(" 也是可以的。")])}],!1,null,null,null);n.options.__file="3-6-NodeJS.md";t.default=n.exports}}]);